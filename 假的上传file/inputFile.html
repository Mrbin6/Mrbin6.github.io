<!--<a href="http://www.baidu.com"style="position:relative;"><input type="file" style="display:block;background:transparent;width:100px;height:30px;opacity: 0;border:1px solid black;position:absolute;left:0;top:0;" onChange="imgSel()"/>+</a>
<style>
	a:hover{
		color:green;

	}
	a{
		text-decoration:none;
	}
</style>
<script>
	var img = new Image();
	img.src=document.imageForm.file.value;
	img.onreadystatechange=function(){
		alert(img);
	}
</script>
-->
<script src="../jquery-1.11.3.js"></script>

<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script language="javascript"> 
// function imgSel(){
//     var img = new Image();//构造JS的Image对象
//     console.log(document.getElementsByClassName("inputFile")[0]);
//     img.src = document.imageForm.file.value;//将本地图片赋给image对象
//     img.onreadystatechange=function(){
//        if (img.readyState=="complete"){
//            alert(["图片大小是:",img.width,img.height]);
//            document.imageForm.width.value = img.width;
//             document.imageForm.height.value = img.height;
//             document.imageForm.size.value = img.fileSize;
//             document.images['image'].src = img.src;
//             //console.log(img);
//        }
//     }
// }

  
  function previewImage(file)  
{  
  // var input = document.getElementsByClassName('inputFile')[0];  
  // input.files=null;
  
  var MAXWIDTH  = 200;  
  var MAXHEIGHT = 200;  
  
  var div = document.getElementById('preview');  
      div.style.height=MAXWIDTH;
      div.style.width=MAXHEIGHT;
  if (file.files && file.files[0])  
  {  
    div.innerHTML = '<img id=imgHead>';  
    var img = document.getElementById('imgHead'); 
      img.width = MAXWIDTH;  
      img.height = MAXHEIGHT;  
    img.onload = function(){  
      var rect = clacImgZoomParam(MAXWIDTH, MAXHEIGHT, img.offsetWidth, img.offsetHeight);  
      // img.width = rect.width;  
      // img.height = rect.height;  
       
      img.style.marginLeft = rect.left+'px';  
      img.style.marginTop = rect.top+'px';  
    }  
    var reader = new FileReader();  
    reader.onload = function(evt){img.src = evt.target.result;}  
    reader.readAsDataURL(file.files[0]);  
  }  
  else  
  {  
    var sFilter='filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale,src="';  
    file.select();  
    var src = document.selection.createRange().text;  
    div.innerHTML = '<img id=imghead>';  
    var img = document.getElementById('imghead');  
    img.filters.item('DXImageTransform.Microsoft.AlphaImageLoader').src = src;  
    var rect = clacImgZoomParam(MAXWIDTH, MAXHEIGHT, img.offsetWidth, img.offsetHeight);  
    status =('rect:'+rect.top+','+rect.left+','+rect.width+','+rect.height);  
    div.innerHTML = "<div id=divhead style='width:"+rect.width+"px;height:"+rect.height+"px;margin-top:"+rect.top+"px;margin-left:"+rect.left+"px;"+sFilter+src+"\"'></div>";  
  }  
}  
function clacImgZoomParam( maxWidth, maxHeight, width, height ){  
    var param = {top:0, left:0, width:width, height:height};  
    if( width>maxWidth || height>maxHeight )  
    {  
        rateWidth = width / maxWidth;  
        rateHeight = height / maxHeight;  
          
        if( rateWidth > rateHeight )  
        {  
            param.width =  maxWidth;  
            param.height = Math.round(height / rateWidth);  
        }else  
        {  
            param.width = Math.round(width / rateHeight);  
            param.height = maxHeight;  
        }  
    }  
      
    param.left = Math.round((maxWidth - param.width) / 2);  
    param.top = Math.round((maxHeight - param.height) / 2);  
    return param;  
}  
</script>
</head>
<body>
<form name="imageForm">
宽: <input name="width" type="text" size="6"> 
高: <input name="height" type="text" size="6"> 
大小: <input name="size" type="text" size="6"><br>
<input class="inputFile" name="file" type="file" onChange="previewImage(this)"><br>
<div id="preview"></div>
<select id="select">
  <option>1</option>
  <option>2</option>
  <option>3</option>
</select>
</form>
</body>
<style>
  #select{
    background-color:lightblue;
    width:200px;
    height:50px;
  }
</style>
</html>

<!-- <input type='file' id='file'/>

<script>
    $(function(){
       $("#file").change(function(e){
             var file = e.target.files||e.dataTransfer.files;
             if(file){
                 var reader = new FileReader();
                 console.log(reader);
                 reader.onload=function(){
                        console.log(this.result);
                        $("<img src='"+this.result+"'/>").appendTo("body");

                 }

                reader.readAsDataURL(file);
            }
      });
   })

 </script> -->



<!--  <html>
<meta charset="utf-8">
<title>input标签选择file直接读取本地图片并显示</title>
<body>
<script src="image-file-visible.js">
</script>
<script>
$(document).ready(function(){
//图片显示插件
$.imageFileVisible({wrapSelector: "#image-wrap",   
fileSelector: "#file",
width: 100,
height: 50
});
});
</script>
<input type="file" id="file">
<div id="image-wrap"></div>
</body>
  </html> -->